nav.menu(
    *ngIf="project",
    [class.menu-fixed]="fixed"
)
    .menu-container
        ul.main-nav
            li#nav-search
                a(
                    (click)="search()",
                    [class.active]="active == 'search'",
                    [attr.aria-label]="'PROJECT.SECTION.SEARCH' | translate",
                    tabindex="1"
                )
                    tg-svg(svg-icon="icon-search")
                    span.helper(translate="PROJECT.SECTION.SEARCH")

            li#nav-timeline
                a(
                    [routerLink]="['/project', project.get('slug')]",
                    [class.active]="active == 'project-timeline'",
                    [attr.aria-label]="'PROJECT.SECTION.TIMELINE' | translate",
                    tabindex="2"
                )
                    tg-svg(svg-icon="icon-timeline")
                    span.helper(translate="PROJECT.SECTION.TIMELINE")

            li#nav-epics(*ngIf="menu.get('epics')")
                a(
                    [routerLink]="['/project', project.get('slug'), 'epics']",
                    [class.active]="active == 'epics'",
                    [attr.aria-label]="'EPICS.TITLE' | translate",
                    tabindex="2"
                )
                    tg-svg(svg-icon="icon-epics")
                    span.helper(translate="EPICS.TITLE")

            li#nav-backlog(
                *ngIf="menu.get('backlog')",
                (mouseenter)="backlogHover = true",
                (mouseleave)="backlogHover = false",
            )
                a(
                    [routerLink]="['/project', project.get('slug'), 'backlog']",
                    [class.active]="active == 'backlog'",
                    [attr.aria-label]="'PROJECT.SECTION.BACKLOG' | translate",
                    tabindex="2"
                )
                    tg-svg(svg-icon="icon-scrum")

                span.backlog-sprints-menu(*ngIf="backlogHover")
                  span(translate="PROJECT.SECTION.BACKLOG")
                  ng-container(*ngFor="let sprint of project.get('milestones')")
                      a(
                          *ngIf="!sprint.get('closed')",
                          [routerLink]="['/project', project.get('slug'), 'taskboard', sprint.get('slug')]",
                      ) {{sprint.get('name')}}

            li#nav-kanban(*ngIf="menu.get('kanban')")
                a(
                    [routerLink]="['/project', project.get('slug'), 'kanban']",
                    [class.active]="active == 'kanban'",
                    [attr.aria-label]="'PROJECT.SECTION.KANBAN' | translate",
                    tabindex="3"
                )
                    tg-svg(svg-icon="icon-kanban")
                    span.helper(translate="PROJECT.SECTION.KANBAN")

            li#nav-issues(*ngIf="menu.get('issues')")
                a(
                    [routerLink]="['/project', project.get('slug'), 'issues']",
                    [class.active]="active == 'issues'",
                    [attr.aria-label]="'PROJECT.SECTION.ISSUES' | translate",
                    tabindex="4"
                )
                    tg-svg(svg-icon="icon-issues")
                    span.helper(translate="PROJECT.SECTION.ISSUES")

            li#nav-wiki(*ngIf="menu.get('wiki')")
                a(
                    [routerLink]="['/project', project.get('slug'), 'wiki']",
                    [class.active]="active == 'wiki'",
                    [attr.aria-label]="'PROJECT.SECTION.WIKI' | translate",
                    tabindex="5"
                )
                    tg-svg(svg-icon="icon-wiki")
                    span.helper(translate="PROJECT.SECTION.WIKI")

            li#nav-team
                a(
                    [routerLink]="['/project', project.get('slug'), 'team']",
                    [class.active]="active == 'team'",
                    [attr.aria-label]="'PROJECT.SECTION.TEAM' | translate",
                    tabindex="6"
                )
                    tg-svg(svg-icon="icon-team")
                    span.helper(translate="PROJECT.SECTION.TEAM")

            li#nav-video(*ngIf="videoconferenceUrl")
                a(
                    [href]="videoconferenceUrl",
                    target="_blank",
                    [attr.aria-label]="'PROJECT.SECTION.MEETUP' | translate",
                    tabindex="7"
                )
                    tg-svg(svg-icon="icon-bubble")
                    span.helper(translate="PROJECT.SECTION.MEETUP")

            li#nav-admin(*ngIf="project.get('i_am_admin')")
                a(
                    [routerLink]="['/project', project.get('slug'), 'admin']",
                    [class.active]="active == 'admin'",
                    [attr.aria-label]="'PROJECT.SECTION.ADMIN' | translate",
                    tabindex="8"
                )
                    tg-svg(svg-icon="icon-settings")
                    span.helper(translate="PROJECT.SECTION.ADMIN")
