h1
    span.title(translate="COMMON.FILTERS.TITLE")

form((submit)="false")
    fieldset
        input.e2e-filter-q(
            #q,
            type="text",
            name="q",
            [placeholder]="'COMMON.FILTERS.INPUT_PLACEHOLDER' | translate",
            [value]="appliedFilters.get('q')",
            (keyup)="changeQ(q.value)"
        )
        tg-svg.search-action(
            svg-icon="icon-search",
            [title]="'COMMON.FILTERS.TITLE_ACTION_SEARCH' | translate"
        )

.filters-step-cat(*ngIf="filters")
    tg-filter-applied(
        [filters]="appliedFiltersList",
        (removeFilter)="removeFilter($event)"
    )
    tg-filter-save-custom(
        [appliedFilters]="appliedFiltersList",
        (saveCustomFilter)="saveCustomFilter($event)"
    )

    .filters-cats
        ul
            li([class.selected]="selectedCategory === 'type'", *ngIf="section === 'issues'")
                tg-filter-category(
                    category="type",
                    [title]="'COMMON.FILTERS.CATEGORIES.TYPE' | translate",
                    [selectedCategory]="selectedCategory",
                    [items]="typesFilters",
                    [applied]="appliedFilters.get('status')",
                    (selectCategory)="selectCategory($event)",
                    (selectFilter)="selectFilter($event)",
                )

            li([class.selected]="selectedCategory === 'severity'", *ngIf="section === 'issues'")
                tg-filter-category(
                    category="severity",
                    [title]="'COMMON.FILTERS.CATEGORIES.SEVERITY' | translate",
                    [selectedCategory]="selectedCategory",
                    [items]="severitiesFilters",
                    [applied]="appliedFilters.get('status')",
                    (selectCategory)="selectCategory($event)",
                    (selectFilter)="selectFilter($event)",
                )

            li([class.selected]="selectedCategory === 'priority'", *ngIf="section === 'issues'")
                tg-filter-category(
                    category="priority",
                    [title]="'COMMON.FILTERS.CATEGORIES.PRIORITIES' | translate",
                    [selectedCategory]="selectedCategory",
                    [items]="prioritiesFilters",
                    [applied]="appliedFilters.get('status')",
                    (selectCategory)="selectCategory($event)",
                    (selectFilter)="selectFilter($event)",
                )

            li([class.selected]="selectedCategory === 'status'")
                tg-filter-category(
                    category="status",
                    [title]="'COMMON.FILTERS.CATEGORIES.STATUS' | translate",
                    [selectedCategory]="selectedCategory",
                    [items]="statusesFilters",
                    [applied]="appliedFilters.get('status')",
                    (selectCategory)="selectCategory($event)",
                    (selectFilter)="selectFilter($event)",
                )

            li([class.selected]="selectedCategory === 'tags'")
                tg-filter-category(
                    category="tags",
                    [title]="'COMMON.FILTERS.CATEGORIES.TAGS' | translate",
                    [selectedCategory]="selectedCategory",
                    [items]="tagsFilters",
                    [total]="notEmptyTags",
                    [applied]="appliedFilters.get('tags')",
                    [hideEmpty]="true",
                    (selectCategory)="selectCategory($event)",
                    (selectFilter)="selectFilter($event)",
                )

            li([class.selected]="selectedCategory === 'assigned_to'")
                tg-filter-category(
                    category="assigned_to",
                    [title]="'COMMON.FILTERS.CATEGORIES.ASSIGNED_TO' | translate",
                    [selectedCategory]="selectedCategory",
                    [items]="assignedToFilters",
                    [applied]="appliedFilters.get('assigned_to')",
                    (selectCategory)="selectCategory($event)",
                    (selectFilter)="selectFilter($event)",
                )

            li([class.selected]="selectedCategory === 'owner'")
                tg-filter-category(
                    category="owner",
                    [title]="'COMMON.FILTERS.CATEGORIES.CREATED_BY' | translate",
                    [selectedCategory]="selectedCategory",
                    [items]="ownersFilters",
                    [applied]="appliedFilters.get('owner')",
                    (selectCategory)="selectCategory($event)",
                    (selectFilter)="selectFilter($event)",
                )

            li([class.selected]="selectedCategory === 'epic'", *ngIf="section !== 'issues'")
                tg-filter-category(
                    category="epic",
                    [title]="'COMMON.FILTERS.CATEGORIES.EPIC' | translate",
                    [selectedCategory]="selectedCategory",
                    [items]="epicsFilters",
                    [applied]="appliedFilters.get('epic')",
                    (selectCategory)="selectCategory($event)",
                    (selectFilter)="selectFilter($event)",
                )

            li.custom-filters.e2e-custom-filters(
                [class.selected]="selectedCategory === 'custom-filter'",
                *ngIf="customFilters && customFilters.size > 0"
            )
                tg-filter-category(
                    category="custom-filter",
                    [title]="'COMMON.FILTERS.CATEGORIES.CUSTOM_FILTERS' | translate",
                    [selectedCategory]="selectedCategory",
                    [items]="customFiltersItems",
                    [applied]="",
                    (selectCategory)="selectCategory($event)",
                    (selectFilter)="selectCustomFilter(customFilters.get($event.id))",
                    (removeCustomFilter)="removeCustomFilter($event)",
                )
